# 2021韩顺平图解linux_学习笔记



## 一、Linux目录结构

###### Linux世界里，一切皆文件

![1_目录结构](D:\Github\StudyNotes\Linux\images\1_目录结构.png)

- /bin：是Binary的缩写，这个目录存放着最经常使用的命令。
- /sbin：s就是Super User的意思，这里存放的是系统管理员使用的系统管理程序。
- /home：存放普通用户的主目录，在Linux中每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的。
- /root：该目录为系统管理员，也称作超级权限者的用户主目录。
- /lib：系统开机所需要最基本的动态连接共享库，其作用类似于Windows里的DLL文件。几乎所有的应用程序都需要用到这些共享库。
- /lost+found：这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。
- /etc：所有的系统管理所需要的配置文件和子目录my.conf。
- /usr：这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似与windows下的program files目录。
- /boot：存放的是启动Linux时使用的一些核心文件，包括一些连接文件以及镜像文件。
- /proc：这个目录是一个虚拟的目录，它是系统内存的映射，访问这个目录来获取系统信息。
- /srv：service的缩写，该目录存放一些服务启动之后需要提供的数据。
- /sys：这是linux2.6内核的一个很大的变化。该目录下安装了2.6内核中新出现的一个文件系统sysfs。
- /tmp：这个目录是用来存放一些临时文件的。
- /dev：类似windows的设备管理器，把所有的硬件用文件的形式存储。
- /media：linux系统会自动识别一些设备，例如U盘光驱等等，当识别后，linux会把识别的设备挂载到这个目录下。
- /mnt：系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将外部的存储挂载在/mnt/上，然后进入该目录就可以查看里面的内容了。
- /opt：这是给主机额外安装软件所摆放的目录，如安装ORACLE数据库就可放到该目录下。默认为空。
- /usr/local：这是另一个给主机额外安装软件所安装的目录，一般是通过编译源码的方式安装的程序。
- /var：这个目录中存放着在不断扩充着的东西，习惯将经常被修改的目录放在这个目录下，包括各种日志文件。
- /selinux：SELinux是一种安全子系统，它能控制程序只能访问特定文件。



###### bin、lib、lib64、sbin目录是软连接目录

![1_目录结构关系](D:\Github\StudyNotes\Linux\images\1_目录结构关系.png)



##### 总结

1. Linux的目录中有且只有一个根目录。
2. Linux的各个目录存放的内容是规划好，不用乱放文件。
3. Linux是以文件的形式管理我们的设备，因此linux系统，一切皆为文件。
4. Linux的各个文件目录下存放什么内容，必须有一个认识。



## 二、Linux远程登录

###### 工具下载地址：https://www.netsarang.com/en/free-for-home-school/

##### Xftp相关设置

###### 端口与协议设置

![2_xftp_配置1](D:\Github\StudyNotes\Linux\images\2_xftp_配置1.png)



###### 乱码设置

![2_xftp_配置2](D:\Github\StudyNotes\Linux\images\2_xftp_配置2.png)





## 三、Vim编辑器



##### 快速入门

- yy：拷贝当前行
- 5yy：拷贝当前5行
- dd：删除当前行
- 5dd：删除当前行向下的5行
- 在文件中查找某个单词：命令行输入 /（查找内容），按n查找下一个
- 设置文件行号：set nu，取消文件行号：set nonu
- 编辑文件，正常模式下使用快捷键到达文档最末行：G，最首行：gg
- 撤销输入：在正常模式下输入u
- 编辑文件，光标移动到某行：shift+g
  - 显示行号：set nu
  - 输入行号这个数
  - 输入shift+g



### 练习工具

###### 1.linux自带vimtutor

###### 2.自定义练习工具:https://github.com/LeeLeopold/StudyNotes/Linux/doc/Vim.txt



## 四、关机重启、登录注销

##### 关机、重启命令

|    执行动作     |        所在模式         |
| :-------------: | :---------------------: |
| shutdown -h now |      立刻进行关机       |
|    shutdown     | 1分钟后会关机(等同下面) |
|  shutdown -h 1  |      1分钟后会关机      |
| shutdown -r now |   现在重新启动计算机    |
|      halt       |  关机，作用和上面一样   |
|     reboot      |   现在重新启动计算机    |
|      sync       |  将内存数据同步到磁盘   |
|     init 0      |        运行指令         |



##### 登录注销

###### logout：注销用户，在图形运行级别无效，在运行级别3有效。

###### su ：切换用户，su - 切换用户名，**从权限高切换到权限低的用户不需要输密码**。





## 五、用户管理

#### 基本介绍：

1. Linux系统是一个多用户多任务的操作系统，任何一个要使用系统资源的用户，都必须首先向系统管理员申请一个账号，然后以这个账号的身份进入系统
2. Linux的用户需要至少要属于一个组



##### 用户相关操作

| 操作                 | 命令                       | 说明                                     |
| -------------------- | -------------------------- | ---------------------------------------- |
| 添加用户             | useradd 用户名             | 创建用户成功后，会创建和用户同名的家目录 |
| 添加用户(指定家目录) | useradd -d 指定目录 用户名 |                                          |
| 修改密码             | passwd 用户名              | 不指定用户名修改的是当前用户的密码       |
| 删除用户             | userdel 用户名             | 一般保留家目录                           |
| 删除用户及家目录     | userdel -r 用户名          |                                          |
| 用户信息             | id 用户名                  |                                          |
| 当前用户信息         | whoami 和 who am i         |                                          |
| 切换用户             | su - 用户名                | su- 切换了用户和Shell环境，su 切换身份   |



#####  用户组相关操作

[^用户组]: 用户组相当于角色

| 操作           | 命令                   | 说明 |
| -------------- | ---------------------- | ---- |
| 新增组         | groupadd 组名          |      |
| 新增用户指定组 | useradd -g 组名 用户名 |      |
| 修改用户组     | usermod -g 组名 用户名 |      |

##### 用户和组相关文件

###### /etc/passwd 文件

- 用户（user）的配置文件，记录用户的各种信息。
- 每行的含义：用户名：口令：用户标识号：注释性描述：主目录：登录shell



###### /etc/shadow 文件

- 口令配置文件

- 每行的含义：登录名：加密口令：最后一次修改时间：最小时间间隔：最大时间间隔：警告时间：不活动时间：失效时间：标志

  

###### /etc/group 文件

- 组（group）的配置文件，记录Linux包含的组的信息
- 每行含义：组名：口令：组标识号：组内用户列表



## 六、运行级别

- 指定运行级别（7个级别）

  0：关机

  1：单用户【找回丢失密码】

  2：多用户状态没有网络服务

  3：多用户状态有网络服务

  4：系统未使用保留给用户

  5：图形界面

  6：系统重启

###### 切换到指定运行级别的指令：init [012356]

###### 查看运行级别 systemctl get-default

###### 设置运行级别 systemctl set-default multi-user.target



## 七、帮助指令

